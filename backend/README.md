# Fish TradeIt API

API –¥–ª—è —Ç–æ—Ä–≥–æ–≤–æ–π –ø–ª–æ—â–∞–¥–∫–∏ —Å–∫–∏–Ω–∞–º–∏ —Å –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π Swagger.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π)
npm run dev

# –ü—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º
npm start
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ URL

- **API Documentation**: http://localhost:3000/api-docs
- **Health Check**: http://localhost:3000/health
- **API Base URL**: http://localhost:3000/api/v1

## üìö API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /auth/login` - –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Steam OAuth
- `POST /auth/refresh` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `GET /users/search` - –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `GET /users/{user_id}` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /users/me` - –°–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å

### –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
- `GET /inventory/{user_id}` - –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /inventory/me` - –°–≤–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å

### –¢–æ—Ä–≥–æ–≤–ª—è
- `POST /trades` - –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ñ—Ñ–µ—Ä–∞
- `GET /trades` - –ò—Å—Ç–æ—Ä–∏—è —Ç–æ—Ä–≥–æ–≤
- `POST /trades/{trade_id}/accept` - –ü—Ä–∏–Ω—è—Ç–∏–µ –æ—Ñ—Ñ–µ—Ä–∞
- `POST /trades/{trade_id}/decline` - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ñ—Ñ–µ—Ä–∞

### –ë–∞–ª–∞–Ω—Å
- `GET /balance` - –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- `POST /deposit` - –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞
- `POST /withdraw` - –°–æ–∑–¥–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞
- `GET /transactions` - –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

## üîß –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

```bash
# –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
curl -X POST http://localhost:3000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "steam_id": "76561198012345678",
    "steam_ticket": "demo-ticket"
  }'
```

### 2. –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```bash
# –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)
curl -X GET "http://localhost:3000/api/v1/users/search?q=Player" \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è

```bash
# –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -X GET "http://localhost:3000/api/v1/inventory/user-1?page=1&limit=10" \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –æ—Ñ—Ñ–µ—Ä–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ñ—Ñ–µ—Ä–∞
curl -X POST http://localhost:3000/api/v1/trades \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -d '{
    "recipient_id": "user-2",
    "items_to_give": ["item-1"],
    "items_to_receive": ["item-2"],
    "message": "Trade offer"
  }'
```

## üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ server.js              # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ swagger-config.js      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Swagger
‚îú‚îÄ‚îÄ package.json           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ routes/                # –†–æ—É—Ç—ã API
‚îÇ   ‚îú‚îÄ‚îÄ auth.js           # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ users.js          # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ inventory.js      # –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
‚îÇ   ‚îú‚îÄ‚îÄ trades.js         # –¢–æ—Ä–≥–æ–≤–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ balance.js        # –ë–∞–ª–∞–Ω—Å
‚îú‚îÄ‚îÄ api-specification.md   # –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è API
‚îú‚îÄ‚îÄ technical-requirements.md # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ example-implementation.js # –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
```

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `/auth/login`
2. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <token>`

## üìä Mock –¥–∞–Ω–Ω—ã–µ

–°–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- PlayerOne, PlayerTwo, PlayerThree

### –ü—Ä–µ–¥–º–µ—Ç—ã
- AK-47 | Redline ($45.50)
- AWP | Dragon Lore ($2500.00)
- M4A4 | Howl ($1800.00)
- Karambit | Fade ($850.00)
- USP-S | Kill Confirmed ($12.50)

### –¢–æ—Ä–≥–æ–≤—ã–µ –æ—Ñ—Ñ–µ—Ä—ã
- –ü—Ä–∏–º–µ—Ä—ã –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
  "error": {
    "code": "ERROR_CODE",
    "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
    "details": {}
  }
}
```

### –ö–æ–¥—ã –æ—à–∏–±–æ–∫:
- `AUTH_REQUIRED` - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `INVALID_TOKEN` - –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
- `INVALID_REQUEST` - –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- `ITEM_NOT_FOUND` - –ø—Ä–µ–¥–º–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- `INSUFFICIENT_BALANCE` - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤
- `RATE_LIMIT_EXCEEDED` - –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
- `INTERNAL_ERROR` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## üîÑ Rate Limiting

API –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤:
- 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 15 –º–∏–Ω—É—Ç –Ω–∞ IP –∞–¥—Ä–µ—Å
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ `RATE_LIMIT_EXCEEDED`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm test
```

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–µ—Ä–≤–µ—Ä –ª–æ–≥–∏—Ä—É–µ—Ç:
- –í—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—à–∏–±–∫–∏

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- `PORT` - –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3000)
- `JWT_SECRET` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'your-secret-key')

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- Health check: `GET /health`
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: `GET /api/v1/stats`

## ü§ù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ `routes/`
2. –î–æ–±–∞–≤—å—Ç–µ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–æ—É—Ç –≤ `server.js`
4. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ—É—Ç–∞

```javascript
/**
 * @swagger
 * /your-endpoint:
 *   get:
 *     summary: –û–ø–∏—Å–∞–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
 *     tags: [YourTag]
 *     responses:
 *       200:
 *         description: –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
 */
router.get('/your-endpoint', authenticateToken, async (req, res) => {
  // –í–∞—à –∫–æ–¥
});
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
